(()=>{"use strict";var e={56(e,t,o){e.exports=function(e){var t=o.nc;t&&e.setAttribute("nonce",t)}},72(e){var t=[];function o(e){for(var o=-1,n=0;n<t.length;n++)if(t[n].identifier===e){o=n;break}return o}function n(e,n){for(var i={},d=[],a=0;a<e.length;a++){var c=e[a],p=n.base?c[0]+n.base:c[0],s=i[p]||0,l="".concat(p," ").concat(s);i[p]=s+1;var u=o(l),m={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==u)t[u].references++,t[u].updater(m);else{var f=r(m,n);n.byIndex=a,t.splice(a,0,{identifier:l,updater:f,references:1})}d.push(l)}return d}function r(e,t){var o=t.domAPI(t);return o.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;o.update(e=t)}else o.remove()}}e.exports=function(e,r){var i=n(e=e||[],r=r||{});return function(e){e=e||[];for(var d=0;d<i.length;d++){var a=o(i[d]);t[a].references--}for(var c=n(e,r),p=0;p<i.length;p++){var s=o(i[p]);0===t[s].references&&(t[s].updater(),t.splice(s,1))}i=c}}},113(e){e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},208(e,t,o){o.d(t,{A:()=>a});var n=o(601),r=o.n(n),i=o(314),d=o.n(i)()(r());d.push([e.id,":root { --border: #ddd; --muted: #666; }\n\nbody { font-family: system-ui, -apple-system, Segoe UI, Roboto, sans-serif; margin: 24px; }\n.layout { display: grid; grid-template-columns: 240px 1fr; gap: 24px; }\n\n.sidebar { border: 1px solid var(--border); border-radius: 12px; padding: 16px; }\n.project-list { list-style: none; padding: 0; margin: 0; }\n.project { padding: 8px 10px; border-radius: 8px; cursor: pointer; }\n.project:hover { background: #f5f5f5; }\n.project.active { background: #e9f2ff; }\n\n.main { border: 1px solid var(--border); border-radius: 12px; padding: 16px; }\n.todo-list ul { list-style: none; padding: 0; margin: 0; display: grid; gap: 12px; }\n.todo { border: 1px solid var(--border); border-radius: 12px; padding: 12px; }\n.todo.done { opacity: 0.65; }\n.meta { color: var(--muted); font-size: 0.9em; }\n.desc { margin-top: 6px; color: #222; }\n\n.todo-form { display: grid; gap: 10px; margin: 12px 0 18px; }\n.todo-form .row { display: grid; grid-template-columns: 1fr 120px 160px 80px; gap: 10px; }\n.todo-form input, .todo-form select, .todo-form textarea {\n  width: 100%; padding: 10px; border: 1px solid var(--border); border-radius: 10px;\n  font: inherit;\n}\n.todo-form button {\n  border: 1px solid var(--border); border-radius: 10px; padding: 10px;\n  font: inherit; cursor: pointer;\n}\n.todo-form button:hover { background: #f5f5f5; }\n\n.todo-top { display: flex; justify-content: space-between; gap: 12px; align-items: flex-start; }\n.actions { display: flex; gap: 8px; }\n.actions button {\n  border: 1px solid var(--border); border-radius: 10px; padding: 6px 10px;\n  background: white; cursor: pointer; font: inherit;\n}\n.actions button:hover { background: #f5f5f5; }\n\n.todo.editing { border-style: dashed; }\n.edit-form { display: grid; gap: 10px; }\n.edit-form .row { display: grid; grid-template-columns: 1fr 120px 160px 80px; gap: 10px; }\n\n.project-form { display: grid; grid-template-columns: 1fr 70px; gap: 8px; margin: 10px 0 14px; }\n.project-form input { padding: 10px; border: 1px solid var(--border); border-radius: 10px; font: inherit; }\n.project-form button { border: 1px solid var(--border); border-radius: 10px; font: inherit; cursor: pointer; }\n.project-form button:hover { background: #f5f5f5; }\n\n.project-row { padding: 8px 10px; border-radius: 8px; cursor: pointer; }\n.project-row:hover { background: #f5f5f5; }\n.project.active .project-row { background: #e9f2ff; }\n\n.project-actions { display: flex; gap: 6px; padding: 0 10px 8px; }\n.project-actions button {\n  border: 1px solid var(--border); border-radius: 10px; padding: 4px 8px;\n  background: white; cursor: pointer; font: inherit; font-size: 0.9em;\n}\n.project-actions button:hover { background: #f5f5f5; }\n\n.project-edit-form { display: grid; gap: 8px; padding: 8px 10px; }\n.project-edit-form input { padding: 10px; border: 1px solid var(--border); border-radius: 10px; font: inherit; }\n.project-edit-form button { border: 1px solid var(--border); border-radius: 10px; padding: 8px; font: inherit; cursor: pointer; }\n.project-edit-form button:hover { background: #f5f5f5; }\n\n.view-tabs { display: flex; gap: 8px; margin: 10px 0 14px; flex-wrap: wrap; }\n.tab {\n  border: 1px solid var(--border);\n  border-radius: 999px;\n  padding: 6px 12px;\n  background: white;\n  cursor: pointer;\n  font: inherit;\n}\n.tab:hover { background: #f5f5f5; }\n.tab.active { background: #e9f2ff; }\n\n.controls { display: flex; gap: 14px; align-items: center; margin: 6px 0 14px; flex-wrap: wrap; }\n.control { display: flex; gap: 8px; align-items: center; color: #222; }\n.controls select {\n  padding: 8px 10px; border: 1px solid var(--border); border-radius: 10px; font: inherit;\n}\n.badge { font-weight: 500; color: var(--muted); }\n\n.danger {\n  border: 1px solid var(--border);\n  border-radius: 10px;\n  padding: 8px 10px;\n  background: white;\n  cursor: pointer;\n  font: inherit;\n}\n.danger:hover { background: #fff1f1; }\n\n.summary { color: var(--muted); margin: 8px 0 10px; }\n\n.todo { cursor: pointer; }\n.todo .actions button { cursor: pointer; }\n\n.details { margin-top: 8px; padding-top: 8px; border-top: 1px solid var(--border); }\n.muted { color: var(--muted); }\n.meta-line { color: var(--muted); font-size: 0.9em; margin-top: 6px; }\n\n.pill {\n  display: inline-block;\n  padding: 2px 8px;\n  border-radius: 999px;\n  border: 1px solid var(--border);\n  font-size: 0.85em;\n  margin-left: 8px;\n  vertical-align: middle;\n}\n\n.pill.high { background: #ffe8e8; }\n.pill.medium { background: #fff6dd; }\n.pill.low { background: #eaffea; }\n\n\n",""]);const a=d},314(e){e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var o="",n=void 0!==t[5];return t[4]&&(o+="@supports (".concat(t[4],") {")),t[2]&&(o+="@media ".concat(t[2]," {")),n&&(o+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),o+=e(t),n&&(o+="}"),t[2]&&(o+="}"),t[4]&&(o+="}"),o}).join("")},t.i=function(e,o,n,r,i){"string"==typeof e&&(e=[[null,e,void 0]]);var d={};if(n)for(var a=0;a<this.length;a++){var c=this[a][0];null!=c&&(d[c]=!0)}for(var p=0;p<e.length;p++){var s=[].concat(e[p]);n&&d[s[0]]||(void 0!==i&&(void 0===s[5]||(s[1]="@layer".concat(s[5].length>0?" ".concat(s[5]):""," {").concat(s[1],"}")),s[5]=i),o&&(s[2]?(s[1]="@media ".concat(s[2]," {").concat(s[1],"}"),s[2]=o):s[2]=o),r&&(s[4]?(s[1]="@supports (".concat(s[4],") {").concat(s[1],"}"),s[4]=r):s[4]="".concat(r)),t.push(s))}},t}},540(e){e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},601(e){e.exports=function(e){return e[1]}},659(e){var t={};e.exports=function(e,o){var n=function(e){if(void 0===t[e]){var o=document.querySelector(e);if(window.HTMLIFrameElement&&o instanceof window.HTMLIFrameElement)try{o=o.contentDocument.head}catch(e){o=null}t[e]=o}return t[e]}(e);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(o)}},825(e){e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(o){!function(e,t,o){var n="";o.supports&&(n+="@supports (".concat(o.supports,") {")),o.media&&(n+="@media ".concat(o.media," {"));var r=void 0!==o.layer;r&&(n+="@layer".concat(o.layer.length>0?" ".concat(o.layer):""," {")),n+=o.css,r&&(n+="}"),o.media&&(n+="}"),o.supports&&(n+="}");var i=o.sourceMap;i&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),t.styleTagTransform(n,e,t.options)}(t,e,o)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}}},t={};function o(n){var r=t[n];if(void 0!==r)return r.exports;var i=t[n]={id:n,exports:{}};return e[n](i,i.exports,o),i.exports}o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.nc=void 0;var n=o(72),r=o.n(n),i=o(825),d=o.n(i),a=o(659),c=o.n(a),p=o(56),s=o.n(p),l=o(540),u=o.n(l),m=o(113),f=o.n(m),g=o(208),b={};function x(e,t={},...o){const n=document.createElement(e);for(const[e,o]of Object.entries(t))"className"===e?n.className=o:"checked"===e?n.checked=Boolean(o):"value"===e?n.value=o??"":e.startsWith("on")&&"function"==typeof o?n.addEventListener(e.slice(2).toLowerCase(),o):!0===o?n.setAttribute(e,""):null!=o&&!1!==o&&n.setAttribute(e,String(o));for(const e of o)null!=e&&n.append(e.nodeType?e:document.createTextNode(String(e)));return n}function v(e,t,o){e.innerHTML="";const n=x("aside",{className:"sidebar"},x("h2",{},"Projects"),x("form",{className:"project-form",onSubmit:e=>{e.preventDefault();const t=new FormData(e.target);o.onAddProject(t.get("projectName")),e.target.reset()}},x("input",{name:"projectName",placeholder:"New project…",required:!0}),x("button",{type:"submit"},"Add")),x("ul",{className:"project-list"},...t.projects.map(e=>{const n=e.id===t.selectedProjectId;return e.id===t.editingProjectId?x("li",{className:"project editing"},x("form",{className:"project-edit-form",onSubmit:t=>{t.preventDefault();const n=new FormData(t.target);o.onSaveProjectRename(e.id,n.get("name"))}},x("input",{name:"name",value:e.name}),x("button",{type:"submit"},"Save"),x("button",{type:"button",onClick:()=>o.onCancelProjectRename()},"Cancel"))):x("li",{className:n?"project active":"project"},x("div",{className:"project-row",onClick:()=>o.onSelectProject(e.id)},x("span",{},e.name)),"inbox"===e.id?null:x("div",{className:"project-actions"},x("button",{type:"button",onClick:()=>o.onStartProjectRename(e.id)},"Rename"),x("button",{type:"button",onClick:()=>o.onDeleteProject(e.id)},"Delete")))}))),r=t.projects.find(e=>e.id===t.selectedProjectId)??null,i=new Map(t.projects.map(e=>[e.id,e.name]));let d=t.todos.filter(e=>e.projectId===t.selectedProjectId);"all"===t.view?d=t.todos:"today"===t.view?d=t.todos.filter(e=>{return!!(t=e.dueDate)&&t===function(e=new Date){return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`}();var t}):"week"===t.view&&(d=t.todos.filter(e=>function(e){if(!e)return!1;const t=new Date,o=new Date(t.getFullYear(),t.getMonth(),t.getDate()),n=new Date(o);n.setDate(o.getDate()+7);const[r,i,d]=e.split("-").map(Number),a=new Date(r,i-1,d);return a>=o&&a<n}(e.dueDate)));let a=d;const c=t.todos.length,p=a.length;function s(e){return e.dueDate?e.dueDate:"9999-12-31"}function l(e){return"high"===e?0:"medium"===e?1:2}t.hideCompleted&&(a=a.filter(e=>!e.completed)),"priority"===t.sortMode?a=[...a].sort((e,t)=>{const o=l(e.priority)-l(t.priority);return 0!==o?o:s(e).localeCompare(s(t))}):"dueDate"===t.sortMode&&(a=[...a].sort((e,t)=>{const o=s(e).localeCompare(s(t));return 0!==o?o:l(e.priority)-l(t.priority)}));const u=x("main",{className:"main"},x("button",{type:"button",className:"danger",onClick:()=>o.onResetApp()},"Reset data"),x("h1",{},r?r.name:"Todos"),x("p",{className:"summary"},`${p} shown • ${c} total`),x("div",{className:"view-tabs"},x("button",{type:"button",className:"project"===t.view?"tab active":"tab",onClick:()=>o.onSetView("project")},"Project"),x("button",{type:"button",className:"all"===t.view?"tab active":"tab",onClick:()=>o.onSetView("all")},"All"),x("button",{type:"button",className:"today"===t.view?"tab active":"tab",onClick:()=>o.onSetView("today")},"Today"),x("button",{type:"button",className:"week"===t.view?"tab active":"tab",onClick:()=>o.onSetView("week")},"This Week")),x("div",{className:"controls"},x("label",{className:"control"},x("input",{type:"checkbox",checked:t.hideCompleted,onChange:e=>o.onToggleHideCompleted(e.target.checked)})," Hide completed"),x("label",{className:"control"},"Sort: ",x("select",{value:t.sortMode,onChange:e=>o.onSetSortMode(e.target.value)},x("option",{value:"dueDate"},"Due date"),x("option",{value:"priority"},"Priority"),x("option",{value:"created"},"Created (newest first)")))),x("form",{className:"todo-form",onSubmit:e=>{e.preventDefault();const t=new FormData(e.target);o.onAddTodo({title:t.get("title"),description:t.get("description"),dueDate:t.get("dueDate"),priority:t.get("priority")}),e.target.reset()}},x("div",{className:"row"},x("input",{name:"title",placeholder:"New todo title…",required:!0}),x("select",{name:"priority"},x("option",{value:"low"},"low"),x("option",{value:"medium"},"medium"),x("option",{value:"high"},"high")),x("input",{name:"dueDate",type:"date"}),x("button",{type:"submit"},"Add")),x("textarea",{name:"description",placeholder:"Description (optional)…",rows:2})),x("div",{className:"todo-list"},0===a.length?x("p",{},"No todos yet. (Soon.)"):x("ul",{},...a.map(e=>e.id===t.editingTodoId?x("li",{className:"todo editing"},x("form",{className:"edit-form",onSubmit:t=>{t.preventDefault();const n=new FormData(t.target);o.onSaveEditTodo(e.id,{title:n.get("title"),description:n.get("description"),dueDate:n.get("dueDate"),priority:n.get("priority")})}},x("div",{className:"row"},x("input",{name:"title",value:e.title}),x("select",{name:"priority",value:e.priority||"medium"},x("option",{value:"low"},"low"),x("option",{value:"medium"},"medium"),x("option",{value:"high"},"high")),x("input",{name:"dueDate",type:"date",value:e.dueDate||""}),x("button",{type:"submit"},"Save")),x("textarea",{name:"description",rows:2},e.description||""),x("div",{className:"actions"},x("button",{type:"button",onClick:()=>o.onCancelEditTodo()},"Cancel")))):x("li",{className:e.completed?"todo done":"todo",onClick:()=>o.onToggleExpandedTodo(e.id)},x("div",{className:"todo-top"},x("label",{},x("input",{type:"checkbox",checked:e.completed,onClick:e=>e.stopPropagation(),onChange:()=>o.onToggleTodo(e.id)})," ",x("strong",{},e.title,"project"!==t.view?x("span",{className:"badge"},` [${i.get(e.projectId)??"Unknown"}]`):null)," ",x("span",{className:`pill ${e.priority}`},e.priority),e.dueDate?x("span",{className:"meta"},` due ${e.dueDate}`):x("span",{className:"meta"}," no due date")),x("div",{className:"actions"},x("button",{type:"button",onClick:t=>{t.stopPropagation(),o.onStartEditTodo(e.id)}},"Edit"),x("button",{type:"button",onClick:t=>{t.stopPropagation(),o.onDeleteTodo(e.id)}},"Delete"))),t.expandedTodoId===e.id?x("div",{className:"details"},e.description?x("div",{className:"desc"},e.description):x("div",{className:"desc muted"},"No description."),x("div",{className:"meta-line"},`Due: ${e.dueDate||"—"} • Priority: ${e.priority} • Completed: ${e.completed?"yes":"no"}`)):null)))));e.append(x("div",{className:"layout"},n,u))}b.styleTagTransform=f(),b.setAttributes=s(),b.insert=c().bind(null,"head"),b.domAPI=d(),b.insertStyleElement=u(),r()(g.A,b),g.A&&g.A.locals&&g.A.locals;const y="odin_todo_state_v1";function h(e){localStorage.setItem(y,JSON.stringify(e))}function j(e){if(!e)return null;const t={selectedProjectId:"inbox",editingTodoId:null,editingProjectId:null,expandedTodoId:null,view:"project",hideCompleted:!1,sortMode:"dueDate",projects:[],todos:[],...e};return t.projects.some(e=>"inbox"===e.id)||t.projects.unshift({id:"inbox",name:"Inbox"}),t.projects.some(e=>e.id===t.selectedProjectId)||(t.selectedProjectId="inbox"),t}function w(){return crypto.randomUUID?crypto.randomUUID():`id_${Date.now()}_${Math.random()}`}function I(e,t){return{...e,editingTodoId:t}}function D(e,t){return{...e,editingProjectId:t}}const S=document.querySelector("#app");let k=j(function(){const e=localStorage.getItem(y);if(!e)return null;try{return JSON.parse(e)}catch{return null}}())??{selectedProjectId:"inbox",editingTodoId:null,editingProjectId:null,view:"project",hideCompleted:!1,sortMode:"dueDate",projects:[{id:"inbox",name:"Inbox"},{id:"work",name:"Work"}],todos:[{id:"t1",projectId:"inbox",title:"Set up project structure",description:"Webpack + modules + localStorage",dueDate:"2025-12-20",priority:"medium",completed:!1},{id:"t2",projectId:"work",title:"Write UI render functions",description:"Sidebar + list",dueDate:"2025-12-22",priority:"high",completed:!0}]};k=j(k),h(k),k={view:"project",editingTodoId:null,editingProjectId:null,hideCompleted:!1,sortMode:"dueDate",...k},h(k);const N={onSelectProject(e){k=function(e,t){return{...e,selectedProjectId:t}}(k,e),h(k),v(S,k,N)},onToggleTodo(e){k=function(e,t){return{...e,todos:e.todos.map(e=>e.id===t?{...e,completed:!e.completed}:e)}}(k,e),h(k),v(S,k,N)},onAddTodo({title:e,description:t,dueDate:o,priority:n}){k=function(e,{projectId:t,title:o,description:n,dueDate:r,priority:i}){const d=o.trim();if(!d)return e;const a={id:w(),projectId:t,title:d,description:(n??"").trim(),dueDate:r||"",priority:i||"medium",completed:!1};return{...e,todos:[a,...e.todos]}}(k,{projectId:k.selectedProjectId,title:e,description:t,dueDate:o,priority:n}),h(k),v(S,k,N)},onDeleteTodo(e){k=function(e,t){return{...e,todos:e.todos.filter(e=>e.id!==t)}}(k,e),h(k),v(S,k,N)},onStartEditTodo(e){k=I(k,e),h(k),v(S,k,N)},onCancelEditTodo(){k=I(k,null),h(k),v(S,k,N)},onSaveEditTodo(e,{title:t,description:o,dueDate:n,priority:r}){k=function(e,t,o){return{...e,todos:e.todos.map(e=>e.id===t?{...e,...o}:e)}}(k,e,{title:String(t??"").trim(),description:String(o??"").trim(),dueDate:n||"",priority:r||"medium"}),k=I(k,null),h(k),v(S,k,N)},onAddProject(e){k=function(e,t){const o=String(t??"").trim();if(!o)return e;if(e.projects.some(e=>e.name.toLowerCase()===o.toLowerCase()))return e;const n={id:w(),name:o};return{...e,projects:[...e.projects,n],selectedProjectId:n.id}}(k,e),h(k),v(S,k,N)},onDeleteProject(e){const t=k.projects.find(t=>t.id===e),o=t?.name??"this project";window.confirm(`Delete "${o}"?\n\nIts todos will be moved to Inbox.`)&&(k=function(e,t){if("inbox"===t)return e;const o="inbox",n=e.projects.filter(e=>e.id!==t),r=e.todos.map(e=>e.projectId===t?{...e,projectId:o}:e),i=e.selectedProjectId===t?o:e.selectedProjectId;return{...e,projects:n,todos:r,selectedProjectId:i}}(k,e),h(k),v(S,k,N))},onStartProjectRename(e){k=D(k,e),h(k),v(S,k,N)},onCancelProjectRename(){k=D(k,null),h(k),v(S,k,N)},onSaveProjectRename(e,t){k=function(e,t,o){const n=String(o??"").trim();return n?"inbox"===t||e.projects.some(e=>e.id!==t&&e.name.toLowerCase()===n.toLowerCase())?e:{...e,projects:e.projects.map(e=>e.id===t?{...e,name:n}:e)}:e}(k,e,t),k=D(k,null),h(k),v(S,k,N)},onSetView(e){k=function(e,t){return{...e,view:t,editingTodoId:null}}(k,e),h(k),v(S,k,N)},onToggleHideCompleted(e){k=function(e,t){return{...e,hideCompleted:Boolean(t)}}(k,e),h(k),v(S,k,N)},onSetSortMode(e){k=function(e,t){return{...e,sortMode:t}}(k,e),h(k),v(S,k,N)},onResetApp(){localStorage.removeItem(y),k=j({selectedProjectId:"inbox",editingTodoId:null,editingProjectId:null,view:"project",hideCompleted:!1,sortMode:"dueDate",projects:[{id:"inbox",name:"Inbox"},{id:"work",name:"Work"}],todos:[{id:"t1",projectId:"inbox",title:"Set up project structure",description:"Webpack + modules + localStorage",dueDate:"2025-12-20",priority:"medium",completed:!1},{id:"t2",projectId:"work",title:"Write UI render functions",description:"Sidebar + list",dueDate:"2025-12-22",priority:"high",completed:!0}]}),h(k),v(S,k,N)},onToggleExpandedTodo(e){k=function(e,t){return{...e,expandedTodoId:e.expandedTodoId===t?null:t,editingTodoId:null}}(k,e),h(k),v(S,k,N)}};v(S,k,N)})();