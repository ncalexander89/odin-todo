(()=>{"use strict";var e={56(e,t,o){e.exports=function(e){var t=o.nc;t&&e.setAttribute("nonce",t)}},72(e){var t=[];function o(e){for(var o=-1,r=0;r<t.length;r++)if(t[r].identifier===e){o=r;break}return o}function r(e,r){for(var i={},a=[],d=0;d<e.length;d++){var c=e[d],p=r.base?c[0]+r.base:c[0],s=i[p]||0,l="".concat(p," ").concat(s);i[p]=s+1;var u=o(l),m={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==u)t[u].references++,t[u].updater(m);else{var f=n(m,r);r.byIndex=d,t.splice(d,0,{identifier:l,updater:f,references:1})}a.push(l)}return a}function n(e,t){var o=t.domAPI(t);return o.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;o.update(e=t)}else o.remove()}}e.exports=function(e,n){var i=r(e=e||[],n=n||{});return function(e){e=e||[];for(var a=0;a<i.length;a++){var d=o(i[a]);t[d].references--}for(var c=r(e,n),p=0;p<i.length;p++){var s=o(i[p]);0===t[s].references&&(t[s].updater(),t.splice(s,1))}i=c}}},113(e){e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},208(e,t,o){o.d(t,{A:()=>d});var r=o(601),n=o.n(r),i=o(314),a=o.n(i)()(n());a.push([e.id,":root { --border: #ddd; --muted: #666; }\n\nbody { font-family: system-ui, -apple-system, Segoe UI, Roboto, sans-serif; margin: 24px; }\n.layout { display: grid; grid-template-columns: 240px 1fr; gap: 24px; }\n\n.sidebar { border: 1px solid var(--border); border-radius: 12px; padding: 16px; }\n.project-list { list-style: none; padding: 0; margin: 0; }\n.project { padding: 8px 10px; border-radius: 8px; cursor: pointer; }\n.project:hover { background: #f5f5f5; }\n.project.active { background: #e9f2ff; }\n\n.main { border: 1px solid var(--border); border-radius: 12px; padding: 16px; }\n.todo-list ul { list-style: none; padding: 0; margin: 0; display: grid; gap: 12px; }\n.todo { border: 1px solid var(--border); border-radius: 12px; padding: 12px; }\n.todo.done { opacity: 0.65; }\n.meta { color: var(--muted); font-size: 0.9em; }\n.desc { margin-top: 6px; color: #222; }\n\n.todo-form { display: grid; gap: 10px; margin: 12px 0 18px; }\n.todo-form .row { display: grid; grid-template-columns: 1fr 120px 160px 80px; gap: 10px; }\n.todo-form input, .todo-form select, .todo-form textarea {\n  width: 100%; padding: 10px; border: 1px solid var(--border); border-radius: 10px;\n  font: inherit;\n}\n.todo-form button {\n  border: 1px solid var(--border); border-radius: 10px; padding: 10px;\n  font: inherit; cursor: pointer;\n}\n.todo-form button:hover { background: #f5f5f5; }\n\n.todo-top { display: flex; justify-content: space-between; gap: 12px; align-items: flex-start; }\n.actions { display: flex; gap: 8px; }\n.actions button {\n  border: 1px solid var(--border); border-radius: 10px; padding: 6px 10px;\n  background: white; cursor: pointer; font: inherit;\n}\n.actions button:hover { background: #f5f5f5; }\n\n.todo.editing { border-style: dashed; }\n.edit-form { display: grid; gap: 10px; }\n.edit-form .row { display: grid; grid-template-columns: 1fr 120px 160px 80px; gap: 10px; }\n\n.project-form { display: grid; grid-template-columns: 1fr 70px; gap: 8px; margin: 10px 0 14px; }\n.project-form input { padding: 10px; border: 1px solid var(--border); border-radius: 10px; font: inherit; }\n.project-form button { border: 1px solid var(--border); border-radius: 10px; font: inherit; cursor: pointer; }\n.project-form button:hover { background: #f5f5f5; }\n\n.project-row { padding: 8px 10px; border-radius: 8px; cursor: pointer; }\n.project-row:hover { background: #f5f5f5; }\n.project.active .project-row { background: #e9f2ff; }\n\n.project-actions { display: flex; gap: 6px; padding: 0 10px 8px; }\n.project-actions button {\n  border: 1px solid var(--border); border-radius: 10px; padding: 4px 8px;\n  background: white; cursor: pointer; font: inherit; font-size: 0.9em;\n}\n.project-actions button:hover { background: #f5f5f5; }\n\n.project-edit-form { display: grid; gap: 8px; padding: 8px 10px; }\n.project-edit-form input { padding: 10px; border: 1px solid var(--border); border-radius: 10px; font: inherit; }\n.project-edit-form button { border: 1px solid var(--border); border-radius: 10px; padding: 8px; font: inherit; cursor: pointer; }\n.project-edit-form button:hover { background: #f5f5f5; }\n\n.view-tabs { display: flex; gap: 8px; margin: 10px 0 14px; flex-wrap: wrap; }\n.tab {\n  border: 1px solid var(--border);\n  border-radius: 999px;\n  padding: 6px 12px;\n  background: white;\n  cursor: pointer;\n  font: inherit;\n}\n.tab:hover { background: #f5f5f5; }\n.tab.active { background: #e9f2ff; }\n\n.controls { display: flex; gap: 14px; align-items: center; margin: 6px 0 14px; flex-wrap: wrap; }\n.control { display: flex; gap: 8px; align-items: center; color: #222; }\n.controls select {\n  padding: 8px 10px; border: 1px solid var(--border); border-radius: 10px; font: inherit;\n}\n.badge { font-weight: 500; color: var(--muted); }\n\n",""]);const d=a},314(e){e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var o="",r=void 0!==t[5];return t[4]&&(o+="@supports (".concat(t[4],") {")),t[2]&&(o+="@media ".concat(t[2]," {")),r&&(o+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),o+=e(t),r&&(o+="}"),t[2]&&(o+="}"),t[4]&&(o+="}"),o}).join("")},t.i=function(e,o,r,n,i){"string"==typeof e&&(e=[[null,e,void 0]]);var a={};if(r)for(var d=0;d<this.length;d++){var c=this[d][0];null!=c&&(a[c]=!0)}for(var p=0;p<e.length;p++){var s=[].concat(e[p]);r&&a[s[0]]||(void 0!==i&&(void 0===s[5]||(s[1]="@layer".concat(s[5].length>0?" ".concat(s[5]):""," {").concat(s[1],"}")),s[5]=i),o&&(s[2]?(s[1]="@media ".concat(s[2]," {").concat(s[1],"}"),s[2]=o):s[2]=o),n&&(s[4]?(s[1]="@supports (".concat(s[4],") {").concat(s[1],"}"),s[4]=n):s[4]="".concat(n)),t.push(s))}},t}},540(e){e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},601(e){e.exports=function(e){return e[1]}},659(e){var t={};e.exports=function(e,o){var r=function(e){if(void 0===t[e]){var o=document.querySelector(e);if(window.HTMLIFrameElement&&o instanceof window.HTMLIFrameElement)try{o=o.contentDocument.head}catch(e){o=null}t[e]=o}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(o)}},825(e){e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(o){!function(e,t,o){var r="";o.supports&&(r+="@supports (".concat(o.supports,") {")),o.media&&(r+="@media ".concat(o.media," {"));var n=void 0!==o.layer;n&&(r+="@layer".concat(o.layer.length>0?" ".concat(o.layer):""," {")),r+=o.css,n&&(r+="}"),o.media&&(r+="}"),o.supports&&(r+="}");var i=o.sourceMap;i&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,o)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}}},t={};function o(r){var n=t[r];if(void 0!==n)return n.exports;var i=t[r]={id:r,exports:{}};return e[r](i,i.exports,o),i.exports}o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.nc=void 0;var r=o(72),n=o.n(r),i=o(825),a=o.n(i),d=o(659),c=o.n(d),p=o(56),s=o.n(p),l=o(540),u=o.n(l),m=o(113),f=o.n(m),g=o(208),b={};function v(e,t={},...o){const r=document.createElement(e);for(const[e,o]of Object.entries(t))"className"===e?r.className=o:"checked"===e?r.checked=Boolean(o):"value"===e?r.value=o??"":e.startsWith("on")&&"function"==typeof o?r.addEventListener(e.slice(2).toLowerCase(),o):!0===o?r.setAttribute(e,""):null!=o&&!1!==o&&r.setAttribute(e,String(o));for(const e of o)null!=e&&r.append(e.nodeType?e:document.createTextNode(String(e)));return r}function x(e,t,o){e.innerHTML="";const r=v("aside",{className:"sidebar"},v("h2",{},"Projects"),v("form",{className:"project-form",onSubmit:e=>{e.preventDefault();const t=new FormData(e.target);o.onAddProject(t.get("projectName")),e.target.reset()}},v("input",{name:"projectName",placeholder:"New project…",required:!0}),v("button",{type:"submit"},"Add")),v("ul",{className:"project-list"},...t.projects.map(e=>{const r=e.id===t.selectedProjectId;return e.id===t.editingProjectId?v("li",{className:"project editing"},v("form",{className:"project-edit-form",onSubmit:t=>{t.preventDefault();const r=new FormData(t.target);o.onSaveProjectRename(e.id,r.get("name"))}},v("input",{name:"name",value:e.name}),v("button",{type:"submit"},"Save"),v("button",{type:"button",onClick:()=>o.onCancelProjectRename()},"Cancel"))):v("li",{className:r?"project active":"project"},v("div",{className:"project-row",onClick:()=>o.onSelectProject(e.id)},v("span",{},e.name)),"inbox"===e.id?null:v("div",{className:"project-actions"},v("button",{type:"button",onClick:()=>o.onStartProjectRename(e.id)},"Rename"),v("button",{type:"button",onClick:()=>o.onDeleteProject(e.id)},"Delete")))}))),n=t.projects.find(e=>e.id===t.selectedProjectId)??null,i=new Map(t.projects.map(e=>[e.id,e.name]));let a=t.todos.filter(e=>e.projectId===t.selectedProjectId);"all"===t.view?a=t.todos:"today"===t.view?a=t.todos.filter(e=>{return!!(t=e.dueDate)&&t===function(e=new Date){return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`}();var t}):"week"===t.view&&(a=t.todos.filter(e=>function(e){if(!e)return!1;const t=new Date,o=new Date(t.getFullYear(),t.getMonth(),t.getDate()),r=new Date(o);r.setDate(o.getDate()+7);const[n,i,a]=e.split("-").map(Number),d=new Date(n,i-1,a);return d>=o&&d<r}(e.dueDate)));let d=a;function c(e){return e.dueDate?e.dueDate:"9999-12-31"}function p(e){return"high"===e?0:"medium"===e?1:2}t.hideCompleted&&(d=d.filter(e=>!e.completed)),"priority"===t.sortMode?d=[...d].sort((e,t)=>{const o=p(e.priority)-p(t.priority);return 0!==o?o:c(e).localeCompare(c(t))}):"dueDate"===t.sortMode&&(d=[...d].sort((e,t)=>{const o=c(e).localeCompare(c(t));return 0!==o?o:p(e.priority)-p(t.priority)}));const s=v("main",{className:"main"},v("h1",{},n?n.name:"Todos"),v("div",{className:"view-tabs"},v("button",{type:"button",className:"project"===t.view?"tab active":"tab",onClick:()=>o.onSetView("project")},"Project"),v("button",{type:"button",className:"all"===t.view?"tab active":"tab",onClick:()=>o.onSetView("all")},"All"),v("button",{type:"button",className:"today"===t.view?"tab active":"tab",onClick:()=>o.onSetView("today")},"Today"),v("button",{type:"button",className:"week"===t.view?"tab active":"tab",onClick:()=>o.onSetView("week")},"This Week")),v("div",{className:"controls"},v("label",{className:"control"},v("input",{type:"checkbox",checked:t.hideCompleted,onChange:e=>o.onToggleHideCompleted(e.target.checked)})," Hide completed"),v("label",{className:"control"},"Sort: ",v("select",{value:t.sortMode,onChange:e=>o.onSetSortMode(e.target.value)},v("option",{value:"dueDate"},"Due date"),v("option",{value:"priority"},"Priority"),v("option",{value:"created"},"Created (newest first)")))),v("form",{className:"todo-form",onSubmit:e=>{e.preventDefault();const t=new FormData(e.target);o.onAddTodo({title:t.get("title"),description:t.get("description"),dueDate:t.get("dueDate"),priority:t.get("priority")}),e.target.reset()}},v("div",{className:"row"},v("input",{name:"title",placeholder:"New todo title…",required:!0}),v("select",{name:"priority"},v("option",{value:"low"},"low"),v("option",{value:"medium"},"medium"),v("option",{value:"high"},"high")),v("input",{name:"dueDate",type:"date"}),v("button",{type:"submit"},"Add")),v("textarea",{name:"description",placeholder:"Description (optional)…",rows:2})),v("div",{className:"todo-list"},0===d.length?v("p",{},"No todos yet. (Soon.)"):v("ul",{},...d.map(e=>e.id===t.editingTodoId?v("li",{className:"todo editing"},v("form",{className:"edit-form",onSubmit:t=>{t.preventDefault();const r=new FormData(t.target);o.onSaveEditTodo(e.id,{title:r.get("title"),description:r.get("description"),dueDate:r.get("dueDate"),priority:r.get("priority")})}},v("div",{className:"row"},v("input",{name:"title",value:e.title}),v("select",{name:"priority",value:e.priority||"medium"},v("option",{value:"low"},"low"),v("option",{value:"medium"},"medium"),v("option",{value:"high"},"high")),v("input",{name:"dueDate",type:"date",value:e.dueDate||""}),v("button",{type:"submit"},"Save")),v("textarea",{name:"description",rows:2},e.description||""),v("div",{className:"actions"},v("button",{type:"button",onClick:()=>o.onCancelEditTodo()},"Cancel")))):v("li",{className:e.completed?"todo done":"todo"},v("div",{className:"todo-top"},v("label",{},v("input",{type:"checkbox",checked:e.completed,onChange:()=>o.onToggleTodo(e.id)})," ",v("strong",{},e.title,"project"!==t.view?v("span",{className:"badge"},` [${i.get(e.projectId)??"Unknown"}]`):null)," ",v("span",{className:"meta"},`(${e.priority}${e.dueDate?`, due ${e.dueDate}`:""})`)),v("div",{className:"actions"},v("button",{type:"button",onClick:()=>o.onStartEditTodo(e.id)},"Edit"),v("button",{type:"button",onClick:()=>o.onDeleteTodo(e.id)},"Delete"))),e.description?v("div",{className:"desc"},e.description):null)))));e.append(v("div",{className:"layout"},r,s))}b.styleTagTransform=f(),b.setAttributes=s(),b.insert=c().bind(null,"head"),b.domAPI=a(),b.insertStyleElement=u(),n()(g.A,b),g.A&&g.A.locals&&g.A.locals;const y="odin_todo_state_v1";function h(e){localStorage.setItem(y,JSON.stringify(e))}function j(){return crypto.randomUUID?crypto.randomUUID():`id_${Date.now()}_${Math.random()}`}function w(e,t){return{...e,editingTodoId:t}}function D(e,t){return{...e,editingProjectId:t}}const S=document.querySelector("#app");let N=function(){const e=localStorage.getItem(y);if(!e)return null;try{return JSON.parse(e)}catch{return null}}()??{selectedProjectId:"inbox",editingTodoId:null,editingProjectId:null,view:"project",hideCompleted:!1,sortMode:"dueDate",projects:[{id:"inbox",name:"Inbox"},{id:"work",name:"Work"}],todos:[{id:"t1",projectId:"inbox",title:"Set up project structure",description:"Webpack + modules + localStorage",dueDate:"2025-12-20",priority:"medium",completed:!1},{id:"t2",projectId:"work",title:"Write UI render functions",description:"Sidebar + list",dueDate:"2025-12-22",priority:"high",completed:!0}]};N={view:"project",editingTodoId:null,editingProjectId:null,hideCompleted:!1,sortMode:"dueDate",...N},h(N);const C={onSelectProject(e){N=function(e,t){return{...e,selectedProjectId:t}}(N,e),h(N),x(S,N,C)},onToggleTodo(e){N=function(e,t){return{...e,todos:e.todos.map(e=>e.id===t?{...e,completed:!e.completed}:e)}}(N,e),h(N),x(S,N,C)},onAddTodo({title:e,description:t,dueDate:o,priority:r}){N=function(e,{projectId:t,title:o,description:r,dueDate:n,priority:i}){const a=o.trim();if(!a)return e;const d={id:j(),projectId:t,title:a,description:(r??"").trim(),dueDate:n||"",priority:i||"medium",completed:!1};return{...e,todos:[d,...e.todos]}}(N,{projectId:N.selectedProjectId,title:e,description:t,dueDate:o,priority:r}),h(N),x(S,N,C)},onDeleteTodo(e){N=function(e,t){return{...e,todos:e.todos.filter(e=>e.id!==t)}}(N,e),h(N),x(S,N,C)},onStartEditTodo(e){N=w(N,e),h(N),x(S,N,C)},onCancelEditTodo(){N=w(N,null),h(N),x(S,N,C)},onSaveEditTodo(e,{title:t,description:o,dueDate:r,priority:n}){N=function(e,t,o){return{...e,todos:e.todos.map(e=>e.id===t?{...e,...o}:e)}}(N,e,{title:String(t??"").trim(),description:String(o??"").trim(),dueDate:r||"",priority:n||"medium"}),N=w(N,null),h(N),x(S,N,C)},onAddProject(e){N=function(e,t){const o=String(t??"").trim();if(!o)return e;if(e.projects.some(e=>e.name.toLowerCase()===o.toLowerCase()))return e;const r={id:j(),name:o};return{...e,projects:[...e.projects,r],selectedProjectId:r.id}}(N,e),h(N),x(S,N,C)},onDeleteProject(e){N=function(e,t){if("inbox"===t)return e;const o="inbox",r=e.projects.filter(e=>e.id!==t),n=e.todos.map(e=>e.projectId===t?{...e,projectId:o}:e),i=e.selectedProjectId===t?o:e.selectedProjectId;return{...e,projects:r,todos:n,selectedProjectId:i}}(N,e),h(N),x(S,N,C)},onStartProjectRename(e){N=D(N,e),h(N),x(S,N,C)},onCancelProjectRename(){N=D(N,null),h(N),x(S,N,C)},onSaveProjectRename(e,t){N=function(e,t,o){const r=String(o??"").trim();return r?"inbox"===t||e.projects.some(e=>e.id!==t&&e.name.toLowerCase()===r.toLowerCase())?e:{...e,projects:e.projects.map(e=>e.id===t?{...e,name:r}:e)}:e}(N,e,t),N=D(N,null),h(N),x(S,N,C)},onSetView(e){N=function(e,t){return{...e,view:t,editingTodoId:null}}(N,e),h(N),x(S,N,C)},onToggleHideCompleted(e){N=function(e,t){return{...e,hideCompleted:Boolean(t)}}(N,e),h(N),x(S,N,C)},onSetSortMode(e){N=function(e,t){return{...e,sortMode:t}}(N,e),h(N),x(S,N,C)}};x(S,N,C)})();